<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"/>
<TITLE>OpenGLFramework - CGameControl</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF" text="#000000">

<H1>Klasa CGameControl</H1>

<p><b>Tworzenie singletonu</b></p>
<p><a href="#Construct">Construct</a></p>

<p><b>Konstruktor</b></p>
<p><a href="#konstruktor">CGameControl</a></p>

<p><b>Metody klasy - interfejs</b></p>

<table border="1">
<tr><td><a href="#Initialization">Initialization</a></td></tr>
<tr><td><a href="#Exit">Exit</a></td></tr>
<tr><td><a href="#RestartObjects">RestartObjects</a></td></tr>
<tr><td><a href="#KeyDown">KeyDown</a></td></tr>
<tr><td><a href="#KeyUp">KeyUp</a></td></tr>
<tr><td><a href="#Keyboard">Keyboard</a></td></tr>
<tr><td><a href="#MouseLButtonDown">MouseLButtonDown</a></td></tr>
<tr><td><a href="#MouseRButtonDown">MouseRButtonDown</a></td></tr>
<tr><td><a href="#MouseWheel">MouseWheel</a></td></tr>
<tr><td><a href="#Draw">Draw</a></td></tr>
<tr><td><a href="#Enable2D">Enable2D</a></td></tr>
<tr><td><a href="#Disable2D">Disable2D</a></td></tr>
<tr><td><a href="#Timer">Timer</a></td></tr>
<tr><td><a href="#GetWinData">GetWinData</a></td></tr>
<tr><td><a href="#GetSpeedCtrl">GetSpeedCtrl</a></td></tr>
<tr><td><a href="#GetTextuteLoader">GetTextuteLoader</a></td></tr>
<tr><td><a href="#GetBitmapFont">GetBitmapFont</a></td></tr>
<tr><td><a href="#GetOutlineFont">GetOutlineFont</a></td></tr>
<tr><td><a href="#GetConsole">GetConsole</a></td></tr>
<tr><td><a href="#GetFps">GetFps</a></td></tr>
<tr><td><a href="#GetSoundFMOD">GetSoundFMOD</a></td></tr>
<tr><td><a href="#GetSDLFont">GetSDLFont</a></td></tr>
<tr><td><a href="#GetMultiLang">GetMultiLang</a></td></tr>
<tr><td><a href="#GetLighting">GetLighting</a></td></tr>
<tr><td><a href="#GetTextureFont">GetTextureFont</a></td></tr>
<tr><td><a href="#GetCursor">GetCursor</a></td></tr>
</table>

<p><b>Metody klasy - prywatne</b></p>

<table border="1">
<tr><td><a href="#CreateObjects">CreateObjects</a></td></tr>
<tr><td><a href="#DeleteObjects">DeleteObjects</a></td></tr>
<tr><td><a href="#SetLights">SetLights</a></td></tr>
</table>

<p><b>Pola klasy</b></p>
<table border="1">
<tr><td>POINT m_ptCursor;</td><td></td></tr>
<tr><td>TCHAR m_cCharKey;</td><td>Znak naci¶niêtego klawisza pochodz±cego z komunikatu WM_CHAR.</td></tr>
<tr><td>GLUquadricObj *m_Quadric;</td><td>Kwadryka, któr± mo¿emy wykorzystaæ przy renderowaniu. Tworzenie kwadryki jest ju¿ zaimplementowane w metodzie <a href="#Initialization">Initialization</a>.</td></tr>
<tr><td>GLboolean m_bKeys[256];</td><td>Tablica u¿ywana do obs³ugi klawiszy. Ustawiaj±c dan± warto¶æ na GL_TRUE wiemy, ¿e klawisz zosta³ naci¶niêty. Patrz metody <a href="#KeyDown">KeyDown</a>, <a href="#KeyUp">KeyUp</a> oraz <a href="#Keyboard">Keyboard</a>.</td></tr>
</table>

<p><a name="Construct"></a></p>

<hr/>

<h3>CGameControl::Construct</h3>
<p>[public] <b>static CGameControl* Construct(const CWindowData *</b><i>objWin</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>objWin</i> - wska¼nik na obiekt klasy <a href="cwindowdata.html">CWindowData</a>. Nale¿y wykorzystaæ
globalny - <a href="cwindowdata.html">CWindowData</a> *g_objWin.</p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy CGameControl. Je¿eli obiekt ju¿ istnieje zwracany jest NULL.</p>
<p><b>Uwagi</b></p>
<p>Kalsa CGameControl jest singletonem. Oznacza to, ¿e obiekt tej klasy
mo¿e wystêpow±æ tylko w jednym egzemplarzu. Dlatego te¿ obiekt klasy CGameControl
tworzony jest poprzez statyczn± metodê Construct.</p>

<p><a name="konstruktor"></a></p>

<hr/>

<h3>CGameControl::CGameControl</h3>
<p>[private] <b>CGameControl(const CWindowData *</b><i>objWin</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>objWin</i> - wska¼nik na obiekt klasy <a href="cwindowdata.html">CWindowData</a>. Nale¿y wykorzystaæ
globalny - <a href="cwindowdata.html">CWindowData</a> *g_objWin.</p>

<p><a name="Initialization"></a></p>

<hr/>

<h3>CGameControl::Initialization</h3>

<p>Funkcja inicjalizuj±ca parametry OpenGL zwi±zane z kals± CGameControl.
Metoda ta jest ju¿ wywo³ywana z globalnej funkcji
<a href="openglframeworkcpp.html#InitalizationGL">InitalizationGL</a>.</p>

<p>[public] <b>GLboolean Initialization();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>GL_TRUE je¿eli inicjalizacja zakoñczy siê powodzeniem, w przeciwnym wypadku GL_FALSE.</p>

<p><a name="Exit"></a></p>

<hr/>

<h3>CGameControl::Exit</h3>

<p>Funkcja wymuszaj±ca zakoñczenie dzia³ania aplikacji. Nale¿y j± wywo³aæ je¿eli
chcemy zakoñczyæ dzia³anie aplikacji. Np. tworzymy klase z menu g³ównym
gry gdzie mamy przycisk "Wyj¶cie". Je¿eli, np. u¿ytkownik kliknie na ten
przycisk to nale¿y wywo³aæ tê funkcjê.</p>

<p>[public] <b>GLvoid Exit();</b></p>

<p><a name="RestartObjects"></a></p>

<hr/>

<h3>CGameControl::RestartObjects</h3>

<p>Metoda wywo³ywana jest gdy restartowane jest okno, np. podczas
zmiany rozdzielczo¶ci.</p>

<p>[public] <b>GLvoid RestartObjects();</b></p>

<p><a name="KeyDown"></a></p>

<hr/>

<h3>CGameControl::KeyDown</h3>

<p>Metoda wywo³ywana przy zdarzeniu naci¶niêcia klawisza, przekazywane
z <a href="openglframeworkcpp.html#WndProc">WndProc</a>.</p>

<p>[public] <b>GLvoid KeyDown(GLuint </b><i>nKey</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>nKey</i> - wirtualny kod klawisza jaki zosta³ wci¶niêty.</p>

<p><b>Uwagi</b></p>
<p>W funkcji tej nale¿y dopisywaæ w³asn± implementacje obs³ugi danych
klawiszy. Mo¿my kalwisz przekazaæ dalej do innej klasy lub
obs³u¿yæ go w CGameControl - patrz funkcja <a href="#Keyboard">Keyboard</a>.</p>

<p><b>Przyk³ad</b></p>
<p><font face="Courier New" size="2">
GLvoid CGameControl::KeyDown(GLuint nKey)<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;...<br />
&nbsp;&nbsp;&nbsp;&nbsp;//przekazanie nKey innej klasie, która zajmie siê jego obs³ug±<br />
&nbsp;&nbsp;&nbsp;&nbsp;m_objMyClass->KeyDown(nKey);<br />
&nbsp;&nbsp;&nbsp;&nbsp;...<br />
&nbsp;&nbsp;&nbsp;&nbsp;//je¿eli klawisz ma byæ obs³u¿ony w CGameControl,<br />
&nbsp;&nbsp;&nbsp;&nbsp;//to wystarczy ustawiæ warto¶æ tablicy o indeksie klawisza na GL_TRUE<br />
&nbsp;&nbsp;&nbsp;&nbsp;//oraz zaimplementowaæ jego obs³ugê w funkcji Keyboard:<br />
&nbsp;&nbsp;&nbsp;&nbsp;m_bKeys[nKey] = GL_TRUE;<br />
}<br /><br />
GLvoid CGameControl::Keyboard()<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(m_bKeys[VK_F1]){ //nacisnieto F1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_bKeys[VK_F1] = GL_FALSE;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//TODO: tutaj reakcja na naci¶niêcie danego klawisza<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
}
</font></p>

<p><a name="KeyUp"></a></p>

<hr/>

<h3>CGameControl::KeyUp</h3>

<p>Metoda wywo³ywana przy zdarzeniu zwolnienia klawisza, przekazywane
z <a href="openglframeworkcpp.html#WndProc">WndProc</a>.</p>

<p>[public] <b>GLvoid KeyUp(GLuint </b><i>nKey</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>nKey</i> - wirtualny kod klawisza jaki zosta³ zwolniony.</p>

<p><b>Uwagi</b></p>
<p>W funkcji tej nale¿y dopisywaæ w³asn± implementacje obs³ugi danych
klawiszy analogicznie jak dla <a href="#KeyDown">KeyDown</a>. Przewa¿nie
jednak dla zdarzenia puszczenia klawisza nie musimy niczego implementowaæ,
gdy¿ wa¿niejszym zdarzeniem jest rakcja na naci¶niêcie.</p>

<p><a name="Keyboard"></a></p>

<hr/>

<h3>CGameControl::Keyboard</h3>

<p>Metoda wywo³ywana cyklicznie z g³ównej pêtli aplikacji. W metodze tej
nale¿y samodzielnie dopisaæ w³asn± implementacjê reakcji na zdarzenia
naciskania klawiszy.</p>

<p>[public] <b>GLvoid Keyboard();</b></p>

<p><b>Przyk³ad</b></p>

<p><font face="Courier New" size="2">
GLvoid CGameControl::Keyboard()<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(m_bKeys[VK_F1]){ //nacisnieto F1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_bKeys[VK_F1] = GL_FALSE;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//TODO: tutaj reakcja na naci¶niêcie danego klawisza<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
}
</font></p>

<p><a name="MouseLButtonDown"></a></p>

<hr/>

<h3>CGameControl::MouseLButtonDown</h3>

<p>Zdarzenie kliniêcia lewym przyciskiem myszy, przekazywane z
<a href="openglframeworkcpp.html#WndProc">WndProc</a>.</p>

<p>[public] <b>GLvoid MouseLButtonDown(GLint </b><i>x</i><b>, GLint </b><i>y</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>x, y</i> - wspó³rzêdne punktu po³o¿enia kursora myszy w momencie klikniêcia.</p>

<p><b>Uwagi</b></p>
<p>Reakcje na zdarzenie klikniêcia nale¿y zaimplemenowac we w³asnym zakresie.</p>

<p><a name="MouseRButtonDown"></a></p>

<hr/>

<h3>CGameControl::MouseRButtonDown</h3>

<p>Zdarzenie kliniêcia prawym przyciskiem myszy, przekazywane z
<a href="openglframeworkcpp.html#WndProc">WndProc</a>.</p>

<p>[public] <b>GLvoid MouseRButtonDown(GLint </b><i>x</i><b>, GLint </b><i>y</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>x, y</i> - wspó³rzêdne punktu po³o¿enia kursora myszy w momencie klikniêcia.</p>

<p><b>Uwagi</b></p>
<p>Reakcje na zdarzenie klikniêcia nale¿y zaimplemenowac we w³asnym zakresie.</p>

<p><a name="MouseWheel"></a></p>

<hr/>

<h3>CGameControl::MouseWheel</h3>

<p>Zdarzenie obrotu rolki myszy, przekazywane z
<a href="openglframeworkcpp.html#WndProc">WndProc</a>.</p>

<p>[public] <b>GLvoid MouseWheel(GLint </b><i>nScrollLines</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>nScrollLines</i> - ilo¶æ linii o jak± zosta³a obrócona rolka myszy. Gdy warto¶æ jest ujemna to rolka zosta³a obrócona w stronê u¿ytkownika (przewijanie w dó³). Gdy warto¶æ dodatnia - przewijanie w górê.</p>

<p><b>Uwagi</b></p>
<p>Reakcje na obrót rolki nale¿y zaimplemenowac we w³asnym zakresie.</p>

<p><a name="Draw"></a></p>

<hr/>

<h3>CGameControl::Draw</h3>

<p>Metoda, w której nale¿y zaimplementowaæ wysztko to co chcemy
wyrysowaæ na ekranie. Metoda ta jest ju¿ wywo³ywana z globalnej funkcji <a href="openglframeworkcpp.html#DrawGLScene">DrawGLScene</a>.</p>

<p>[public] <b>GLvoid Draw();</b></p>

<p><a name="Enable2D"></a></p>

<hr/>

<h3>CGameControl::Enable2D</h3>

<p>Za pomoc± tej metody w³±czamy tryb grafiki 2D.</p>

<p>[public] <b>GLvoid Enable2D();</b></p>

<p><a name="Disable2D"></a></p>

<hr/>

<h3>CGameControl::Disable2D</h3>

<p>Za pomoc± tej metody wy³±czamy tryb grafiki 2D - powracamy do 3D.</p>

<p>[public] <b>GLvoid Disable2D();</b></p>

<p><a name="Timer"></a></p>

<hr/>

<h3>CGameControl::Timer</h3>

<p>Metoda timera g³ownego okna aplikacji, wywo³ywana z
<a href="openglframeworkcpp.html#WndProc">WndProc</a>. Metoda ta najczê¶ciej
wywo³uje inne metody Timer() nale¿±ce do ró¿nych obiektów, kóre wymagaj± cyklicznych
wywo³añ.</p>

<p>[public] <b>GLvoid Timer();</b></p>

<p><a name="GetWinData"></a></p>
<hr/>
<h3>CGameControl::GetWinData</h3>
<p>[public] <b>inline CWindowData* GetWinData();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="cwindowdata.html">CWindowData</a>.</p>

<p><a name="GetSpeedCtrl"></a></p>
<hr/>
<h3>CGameControl::GetSpeedCtrl</h3>
<p>[public] <b>inline CSpeedControl* GetSpeedCtrl();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="cpreedcontrol.html">CSpeedControl</a>.</p>

<p><a name="GetTextuteLoader"></a></p>
<hr/>
<h3>CGameControl::GetTextuteLoader</h3>
<p>[public] <b>inline CTextureLoader* GetTextuteLoader();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="ctextureloader.html">CTextureLoader</a>.</p>

<p><a name="GetBitmapFont"></a></p>
<hr/>
<h3>CGameControl::GetBitmapFont</h3>
<p>[public] <b>inline CBitmapFont* GetBitmapFont();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="cbitmapfont.html">CBitmapFont</a>.</p>

<p><a name="GetOutlineFont"></a></p>
<hr/>
<h3>CGameControl::GetOutlineFont</h3>
<p>[public] <b>inline COutlineFont* GetOutlineFont();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="coutlinefont.html">COutlineFont</a>.</p>

<p><a name="GetConsole"></a></p>
<hr/>
<h3>CGameControl::GetConsole</h3>
<p>[public] <b>inline CConsole* GetConsole();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="cconsole.html">CConsole</a>.</p>

<p><a name="GetFps"></a></p>
<hr/>
<h3>CGameControl::GetFps</h3>
<p>[public] <b>inline CFps* GetFps();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="cfps.html">CFps</a>.</p>

<p><a name="GetSoundFMOD"></a></p>
<hr/>
<h3>CGameControl::GetSoundFMOD</h3>
<p>[public] <b>inline CSoundFMOD* GetSoundFMOD();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="csoundfmod.html">CSoundFMOD</a>.</p>

<p><a name="GetSDLFont"></a></p>
<hr/>
<h3>CGameControl::GetSDLFont</h3>
<p>[public] <b>inline CSDLFont* GetSDLFont();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="csdlfont.html">CSDLFont</a>.</p>

<p><a name="GetMultiLang"></a></p>
<hr/>
<h3>CGameControl::GetMultiLang</h3>
<p>[public] <b>inline CMultiLanguage* GetMultiLang();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="cmultilanguage.html">CMultiLanguage</a>.</p>

<p><a name="GetLighting"></a></p>
<hr/>
<h3>CGameControl::GetLighting</h3>
<p>[public] <b>inline CLighting* GetLighting();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="clighting.html">CLighting</a>.</p>

<p><a name="GetTextureFont"></a></p>
<hr/>
<h3>CGameControl::GetTextureFont</h3>
<p>[public] <b>inline CTextureFont* GetTextureFont();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="ctexturefont.html">CTextureFont</a>.</p>

<p><a name="GetCursor"></a></p>
<hr/>
<h3>CGameControl::GetCursor</h3>
<p>[public] <b>inline CCursor* GetCursor();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy <a href="ccursor.html">CCursor</a>.</p>

<p><a name="CreateObjects"></a></p>

<hr/>

<h3>CGameControl::CreateObjects</h3>

<p>Metoda tworz±ca wszelkie obiekty innych klas.</p>

<p>[private] <b>GLvoid CreateObjects();</b></p>
<p><b>Uwagi</b></p>
<p>Tutaj nale¿y we w³asnym zakresie dopisywaæ tworzenie nowych obiektów,
w³asnych klas.</p>

<p><a name="DeleteObjects"></a></p>

<hr/>

<h3>CGameControl::DeleteObjects</h3>

<p>Metoda usuwaj±ca wszelkie obiekty stworzone w <a href="#CreateObjects">CreateObjects</a>.</p>

<p>[private] <b>GLvoid DeleteObjects();</b></p>
<p><b>Uwagi</b></p>
<p>Tutaj nale¿y we w³asnym zakresie usuwaæ obiekty w³asnych klas.</p>

<p><a name="SetLights"></a></p>

<hr/>

<h3>CGameControl::SetLights</h3>

<p>Metoda, w której ustawiamy domy¶lne warto¶ci dla o¶wietlenia.</p>

<p>[private] <b>GLvoid SetLights();</b></p>

<hr/>
</BODY>
</HTML>