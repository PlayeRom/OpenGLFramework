<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"/>
<TITLE>OpenGLFramework - CWindowData</TITLE>
</HEAD>
<BODY bgcolor="#FFFFFF" text="#000000">

<H1>Klasa CWindowData</H1>

<p><b>Tworzenie singletonu</b></p>
<p><a href="#Construct">Construct</a></p>

<p><b>Konstruktor</b></p>
<p><a href="#konstruktor">CWindowData</a></p>

<p><b>Metody klasy - interfejs</b></p>

<table border="1">
<tr><td><a href="#CreateGLWindow">CreateGLWindow</a></td></tr>
<tr><td><a href="#KillGLWindow">KillGLWindow</a></td></tr>
<tr><td><a href="#RestartWindow">RestartWindow</a></td></tr>
<tr><td><a href="#FullscreenSwitch">FullscreenSwitch</a></td></tr>
<tr><td><a href="#LoadSettingFile">LoadSettingFile</a></td></tr>
<tr><td><a href="#SaveSettingFile">SaveSettingFile</a></td></tr>
<tr><td><a href="#IsCommandLine">IsCommandLine</a></td></tr>
<tr><td><a href="#GetAntialiasingSamples">GetAntialiasingSamples</a></td></tr>
<tr><td><a href="#SetAntialiasingSamples">SetAntialiasingSamples</a></td></tr>
<tr><td><a href="#GetLogger">GetLogger</a></td></tr>
</table>

<p><b>Pola klasy</b></p>
<table border="1">
<tr>
<td>GLfloat m_bkColor[4];</td>
<td>Tablica zawierajaca cztery sk³adowe (RGBA) domy¶lnego koloru t³a.</td>
</tr>
<tr>
<td>UINT m_uiTimer;</td>
<td>Interwa³ timera. Je¿eli równy 0 to timer wy³±czony.</td>
</tr>
<tr>
<td>GLboolean m_bFullscreenAntialiasing;</td>
<td>Okre¶la czy antyaliasing jest aktywny. Je¿eli równy GL_TRUE to antyaliasing jest w³±czony.</td>
</tr>
<tr>
<td>TCHAR *m_lpTitle;</td>
<td>Wska¼nik na ³añcuch znaków okre¶laj±cy tytu³ g³ownego okna aplikacji.</td>
</tr>
<tr>
<td>TCHAR *m_lpClassName;</td>
<td>Wska¼nik na ³añcuch znaków okre¶laj±cy nazwê klasy g³ownego okna aplikacji.</td>
</tr>
<tr>
<td>GLint m_iResolutionX;</td>
<td>Domy¶lna warto¶æ szeroko¶ci okna.</td>
</tr>
<tr>
<td>GLint m_iResolutionY;</td>
<td>Domy¶lna warto¶æ wysoko¶ci okna.</td>
</tr>
<tr>
<td>GLint m_iBitsPerPixel;</td>
<td>Domy¶lna warto¶æ g³êbi kolorów.</td>
</tr>
<tr>
<td>GLubyte m_ubZBufferBits;</td>
<td>Domy¶lna warto¶æ Z-bufora.</td>
</tr>
<tr>
<td>GLboolean m_bShowMouseCursor;</td>
<td>Domy¶lna warto¶æ okre¶laj±ca czy kursor myszy ma byæ widoczny. Je¿eli równa GL_TRUE to kursor bêdzie widoczny.</td>
</tr>
<tr>
<td>GLboolean m_bRestart;</td>
<td>Pole mówi±ce czy aplikacjê nale¿y zrestartowaæ. Nie wymaga naszej igerencji gdy¿ jest ju¿ prawid³owo obs³ugiwane.</td>
</tr>
<tr>
<td><a href="clogger.html">CLogger</a>	*m_objLogger;</td>
<td>Wska¼nik na obiekt klasy <a href="clogger.html">CLogger</a>. Poprzez ten wska¼nik nale¿y odwo³ywaæ siê do metod kalsy <a href="clogger.html">CLogger</a>.</td>
</tr>
<tr>
<td><a href="carbmultisample.html">CARBMultisample</a>	*m_objARBMultisample;</td>
<td>Wska¼nik na obiekt klasy <a href="carbmultisample.html">CARBMultisample</a>.</td>
</tr>
<tr>
<td><a href="#SETTING_FILE">SETTING_FILE</a> m_sSettingFile;</td>
<td>Pole staruktury przechowuj±cej podstawowe ustawienia apliakcji.</td>
</tr>
</table>

<p><a name="Construct"></a></p>

<hr/>

<h3>CWindowData::Construct</h3>
<p>[public] <b>static CWindowData* Construct();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt klasy CWindowData. Je¿eli obiekt ju¿ istnieje zwracany jest NULL.</p>
<p><b>Uwagi</b></p>
<p>Kalsa CWindowData jest singletonem. Oznacza to, ¿e obiekt tej klasy
mo¿e wystêpow±æ tylko w jednym egzemplarzu. Dlatego te¿ obiekt klasy CWindowData
tworzony jest poprzez statyczn± metodê Construct.</p>

<p><a name="konstruktor"></a></p>

<hr/>

<h3>CWindowData::CWindowData</h3>

<p>[private] <b>CWindowData();</b></p>

<p><a name="CreateGLWindow"></a></p>

<hr/>

<h3>CWindowData::CreateGLWindow</h3>

<p>Metoda tworz±ca g³ówne okno aplikacji.</p>

<p>[public] <b>GLboolean CreateGLWindow(WNDPROC *</b><i>WndProc</i><b>, const GLint </b><i>iIcon</i><b>, const GLint </b><i>iCursor</i><b>);</b></p>
<p><b>Parametry</b></p>
<p>
<i>WndProc</i> - wska¼nik na funkcjê procedury okna - WndProc.<br/>
<i>iIcon</i> - numer identyfikacyjny ikony znajduj±cej siê w zasobach. Przekazana ikona stanie siê g³ówn± ikon± aplikacji.<br/>
<i>iCursor</i> - numer identyfikacyjny kursora znajduj±cego siê w zasobach. Przekazany kursor stanie siê domy¶lnym kursorem aplikacji.
</p>

<p><b>Warto¶æ zwracana</b></p>
<p>GL_TRUE je¿eli utworzenie okna zakoñczy siê powodzeniem, w przeciwnym wypadku GL_FALSE.</p>

<p><a name="KillGLWindow"></a></p>

<hr/>

<h3>CWindowData::KillGLWindow</h3>

<p>Metoda niszcz±ca g³ówne okno aplikacji.</p>

<p>[public] <b>GLvoid KillGLWindow();</b></p>

<p><a name="RestartWindow"></a></p>

<hr/>

<h3>CWindowData::RestartWindow</h3>

<p>Je¿eli wprowadzimy zmiany wymagaj±ce restartu
okna, np: rozdzielczo¶æ, antyaliasing itp. to nale¿y wywo³aæ tê funkcjê.
Podczas restartu obiekty klas CWindowData oraz 
<a href="cgamecontrol.html">CGameControl</a> pozostan±
nienaruszone co oznacza, ¿e aktualny stan gry nie zostanie utracony.</p>

<p>[public] <b>GLvoid RestartWindow();</b></p>

<p><a name="FullscreenSwitch"></a></p>

<hr/>

<h3>CWindowData::FullscreenSwitch</h3>

<p>Funkca ta s³u¿y do prze³±czania siê pomiêdzy
trybem pe³noekranowym a okienkowym.</p>

<p>[public] <b>GLvoid FullscreenSwitch();</b></p>

<p><a name="LoadSettingFile"></a></p>

<hr/>

<h3>CWindowData::LoadSettingFile</h3>

<p>Funkcja wczytuj±ca z pliku ustawienia do struktury <a href="#SETTING_FILE">SETTING_FILE</a>.</p>

<p>[public] <b>GLvoid LoadSettingFile();</b></p>

<p><b>Warto¶æ zwracana</b></p>
<p>GL_TRUE je¿eli wczytanie danych zakoñczy siê powodzeniem, w przeciwnym wypadku GL_FALSE.</p>

<p><a name="SaveSettingFile"></a></p>

<hr/>

<h3>CWindowData::SaveSettingFile</h3>

<p>Funkcja zapisuj±ca do pliku ustawienia ze struktury
<a href="#SETTING_FILE">SETTING_FILE</a>. Domy¶ln± nazw± pliku jest
"setting.cfg".</p>

<p>[public] <b>GLboolean SaveSettingFile(GLboolean </b><i>bDefaultSave</i><b> = GL_FALSE);</b></p>
<p><b>Parametry</b></p>
<p>
<i>bDefaultSave</i> - je¿eli GL_TRUE to pola struktury
<a href="#SETTING_FILE">SETTING_FILE</a> zostan± nadpisana warto¶ciami
domy¶lnymi oraz warto¶ci te zostan± zapisane. Je¿eli GL_FALSE to zapisane
zostan± aktualne warto¶ci struktury <a href="#SETTING_FILE">SETTING_FILE</a>.
</p>
<p><b>Warto¶æ zwracana</b></p>
<p>GL_TRUE je¿eli zapisanie danych zakoñczy siê powodzeniem, w przeciwnym wypadku GL_FALSE.</p>

<p><a name="IsCommandLine"></a></p>

<hr/>

<h3>CWindowData::IsCommandLine</h3>

<p>Funkcja sprawdzaj±ca czy podany parametr zawiera siê w parametrach
podanych przy uruchomieniu aplikacji.</p>

<p>[public] <b>GLboolean IsCommandLine(LPCTSTR </b><i>lpParam</i><b>);</b></p>
<p><b>Parametry</b></p>
<p>
<i>lpParam</i> - parametr (jako ³añcuch znaków) jaki chcemy sprawdziæ.
</p>
<p><b>Warto¶æ zwracana</b></p>
<p>GL_TRUE je¿eli podany parametr zawiera siê w parametrach linii komend, w przeciwnym wypadku GL_FALSE.</p>

<p><b>Przyk³ad</b></p>
<p>
Uruchamiamy program z parametrem /myparam oraz /logger:<br/>
<i>C:\Aplikacja.exe /myparam/logger</i>
</p>
<p><font face="Courier New" size="2">
//sprawdzamy czy podany parametr zosta³ zawarty:<br/>
...<br />
if(IsCommandLine(_T("/myparam")))<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;//tutaj reakcja na zawarto¶æ parametru /myparam<br />
}
</font></p>

<p><a name="GetAntialiasingSamples"></a></p>

<hr/>

<h3>CWindowData::GetAntialiasingSamples</h3>

<p>Funkcja pobieraj±ca ilo¶æ sampli dla antialiasingu.</p>

<p>[public] <b>GLint GetAntialiasingSamples();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Liczba u¿ywanych sampli.</p>

<p><a name="SetAntialiasingSamples"></a></p>

<hr/>

<h3>CWindowData::SetAntialiasingSamples</h3>

<p>Funkcja ustawiaj±ca ilo¶æ sampli dla antialiasingu.</p>

<p>[public] <b>GLvoid SetAntialiasingSamples(GLint </b><i>iSamples</i><b>);</b></p>
<p><b>Parametry</b></p>
<p><i>iSamples</i> - liczba sampli jak± chcemy ustawiæ.</p>

<p><a name="GetLogger"></a></p>

<hr/>

<h3>CWindowData::GetLogger</h3>

<p>Metoda zwracaj±ca wska¼nik na obiekt klasy <a href="clogger.html">CLogger</a>.</p>

<p>[public] <b>inline CLogger* GetLogger();</b></p>
<p><b>Warto¶æ zwracana</b></p>
<p>Wska¼nik na obiekt <a href="clogger.html">CLogger</a>.</p>

<p><a name="SETTING_FILE"></a></p>

<hr/>

<h3>Struktura SETTING_FILE</h3>

<p>Struktura przechowuje podstawowe dane aplikacji, które mog± byæ
modyfikowane przez u¿ytkownika w trakcie jej dzia³ania. Dane te zapisywane
i odczytywane s± z pliku za pomoc± metod <a href="#LoadSettingFile">
LoadSettingFile</a> oraz <a href="#SaveSettingFile">SaveSettingFile</a>.
Domy¶ln± nazw± pliku jest "setting.cfg".</p>

<p><font face="Courier New" size="2">
typedef struct<br/>
{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLubyte ubMajorVersion;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLubyte ubMinorVersion;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLubyte ubReleaseVersion;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLint iWidth;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLint iHeight;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLint iBitsPerPixel;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLint iAntialiasing;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLboolean bFullScreen;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;GLboolean bClearOldLog;<br/>
} SETTING_FILE;
</font></p>
<p><b>Zawarto¶æ struktury</b></p>
<p>
<i>ubMajorVersion</i> - g³ówna wersja pliku z ustawieniami.<br />
<i>ubMinorVersion</i> - pomniejsza wersja pliku z ustawieniami.<br />
<i>ubReleaseVersion</i> - trzeciorzêdna wersja pliku z ustawieniami.<br />
<i>iWidth</i> - aktualna szeroko¶æ okna - rozdzielczo¶æ X.<br />
<i>iHeight</i> - aktualna wysoko¶æ okna - rozdzielczo¶æ Y<br />
<i>iBitsPerPixel</i> - aktualna g³êbia kolorów - ilo¶æ bitów na piksel.<br />
<i>iAntialiasing</i> - aktualna ilo¶æ próbek dla antyaliasingu.<br />
<i>bFullScreen</i> - czy aktywny tryb pe³noekranowy.<br />
<i>bClearOldLog</i> - czy stare pliki log maj± byæ kasowane.
</p>
<p><b>Uwagi</b></p>
<p>Je¿eli planujemy dodaæ wiêcej opcji konfiguracyjnych
(np. w³±czenie/wy³±czenie d¼wiêku, wybór jêzyka itp.), to nale¿y dodaæ je
do struktury SETTING_FILE. Zapewni to automatyczny zapis i odczyt tych¿e
ustawieñ.
<br />
Dodaj±c z czasem nowe pola nale¿y tak¿e pamiêtaæ o zmianie numerowania
wersji pliku. Dziêki temu unikniemy sytuacji wczytania przez u¿ytkownika
starszego pliku konfiguracyjnego, który bêdzie zawiera³ starsz± wersjê
struktury. Dla zmiany wersji pliku konfiguracyjnego, patrz plik
<a href="define.html">define.h</a>.
</p>
<hr/>

</BODY>
</HTML>